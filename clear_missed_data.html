<!DOCTYPE html>
<html>
<head>
    <title>Clear Missed Attendance Data</title>
</head>
<body>
    <h2>Clearing Missed Attendance Data...</h2>
    <div id="output"></div>
    <script>
        // Clear all missed attendance data from localStorage
        console.log("Clearing missed attendance from localStorage...");
        
        const output = document.getElementById('output');
        let log = [];
        
        // Clear specific missed attendance keys
        const keysToDelete = [
            'missed_attendance',
            'missedAttendance', 
            'missed_attendance_data',
            'madrasa_missed_attendance',
            'missed_attendance_status'
        ];
        
        keysToDelete.forEach(key => {
            if (localStorage.getItem(key)) {
                localStorage.removeItem(key);
                log.push(`✓ Cleared: ${key}`);
            } else {
                log.push(`- Not found: ${key}`);
            }
        });
        
        // Check for any keys containing "missed"
        const allKeys = Object.keys(localStorage);
        const missedKeys = allKeys.filter(key => key.toLowerCase().includes('missed'));
        missedKeys.forEach(key => {
            localStorage.removeItem(key);
            log.push(`✓ Cleared missed key: ${key}`);
        });
        
        log.push("✅ All missed attendance data cleared from localStorage");
        output.innerHTML = log.join('<br>');
        console.log("All missed attendance data cleared from localStorage");
    </script>
</body>
</html>