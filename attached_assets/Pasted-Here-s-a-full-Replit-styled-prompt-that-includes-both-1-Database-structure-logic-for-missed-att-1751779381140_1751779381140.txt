Hereâ€™s a full Replit-styled prompt that includes both:
	1.	Database structure & logic for missed attendance tracking
	2.	Frontend UI behavior and integration
This is designed to work for Period-wise Attendance only, not Namaz Tracking.

ğŸŸ  REPLIT-STYLED TEXT PROMPT â€” MISSED SECTION (PERIOD ATTENDANCE)

ğŸ“ FEATURE: Missed Attendance Tracker

ğŸ“Œ GOAL:
Track all class periods where attendance was not taken after 12 AM for any day, excluding holidays and approved/emergency leaves.
Allow teachers/admin to view and take attendance for missed classes in a structured timetable format.

â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“

ğŸ“‚ DATABASE PROMPT (Backend Logic + Storage)

ğŸ”¸ Missed Attendance DB Table: missed_attendance_status

Each record represents one period for one class on a specific day.

Key structure:
missed_{courseType}{year}{division}{section}{date}_{period}_lecture

Example:
missed_PU_1_A_2025-07-06_2_lecture

Fields:

{
date: â€œ2025-07-06â€,
class: {
courseType: â€œPUâ€,
year: â€œ1â€,
division: â€œCommerceâ€,
section: â€œAâ€
},
period: 2,
status: â€œtakenâ€ | â€œnot_takenâ€ | â€œleaveâ€ | â€œemergencyâ€ | â€œholidayâ€,
takenBy: â€œteacher_123â€, // if taken
timestamp: â€œ2025-07-06T10:32:00Zâ€, // if taken
remarks: â€œâ€, // optional note
studentCount: 34,
attendanceKey: attendance_PU_1_Commerce_A_2025-07-06_2_lecture
}

Auto-trigger after 12:00 AM each day:
	â€¢	Fetch calendar â†’ If holiday â†’ set status = â€œholidayâ€
	â€¢	Else check leave DB â†’ if leave exists â†’ set â€œleaveâ€ or â€œemergencyâ€
	â€¢	Else check attendance DB â†’ if not marked â†’ status = â€œnot_takenâ€
	â€¢	Else if marked â†’ status = â€œtakenâ€

â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“

ğŸ¨ FRONTEND UI PROMPT (Missed Section View)

ğŸ”¸ Route: /missed-attendance

Component Name: MissedAttendanceScreen

ğŸ’¡ Layout: Timetable Grid

Y-axis: Dates (past 7 or 30 days)
X-axis: Periods (1â€“8)
Each cell = one lecture period

Example Grid (1 week, 3 periods/day):

Date	P1	P2	P3
06-Jul-25	âœ… Taken	âŒ Missed	ğŸŸ¨ Leave
05-Jul-25	ğŸŸ¥ Missed	âœ… Taken	ğŸŸ¢ Holiday
04-Jul-25	âŒ Missed	âŒ Missed	âœ… Taken

ğŸŸ© = Taken
ğŸŸ¥ = Not Taken
ğŸŸ¨ = Leave
ğŸŸ  = Emergency Leave
ğŸŸ¢ = Holiday

ğŸ“² Interactions:
	â€¢	âŒ cell: clickable â†’ opens attendance form (TakeAttendanceModal)
	â€¢	âœ… cell: shows â€œTaken by: Xâ€ on tap (modal or tooltip)
	â€¢	ğŸŸ¨ / ğŸŸ : shows leave info
	â€¢	ğŸŸ¢: disabled

ğŸ” Refresh every 30 seconds when online

ğŸ“¥ Save behavior:
	â€¢	When attendance is marked via missed section:
â†’ Save to attendance DB
â†’ Update missed_attendance_status to status = â€œtakenâ€
â†’ Sync to student dashboards + attendance sheet

â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“

ğŸ“Š Dashboard Sync:

Missed classes from missed_attendance_status (status = â€œnot_takenâ€)
Count for today, this week, total missed

â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“

ğŸ§  OPTIMIZED PERFORMANCE
	â€¢	Store only last 30 days of missed status
	â€¢	Use flatList or VirtualizedList for scalable rendering
	â€¢	Cache previous fetches in AsyncStorage for offline fallback

â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“

âœ… FINAL BEHAVIOR:
	â€¢	Automatically identifies missed periods after 12 AM
	â€¢	Skips periods that are marked leave/emergency/holiday
	â€¢	UI lets user take attendance directly from missed periods
	â€¢	Changes reflect in main attendance DB, student profile, export sheet
	â€¢	Works offline + syncs when online

Let me know if youâ€™d like a diagram or frontend code to match!