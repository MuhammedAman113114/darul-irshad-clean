ğŸ› ï¸ Implement Smart Academic Holiday Integration Across Modules

ğŸ“Œ Objective:
When a holiday is declared in the Academic Calendar for PUC or Post-PUC:

Attendance Sheet should automatically mark H for that date & period.

Namaz Tracking should skip or mark as holiday.

Excel Sheet Export should show H under all periods for that date.

Sheet should display Holiday Banner only for relevant course (PUC or Post-PUC).

Holiday should not affect the other course if not selected.

ğŸ” Modules to Connect:
âœ… Academic Calendar â†’ Replit DB

js
Copy
Edit
// Example Replit DB Entry:
db.set(`holiday_2025-07-21`, {
  date: '2025-07-21',
  type: 'Academic',
  courses: ['PUC'], // ['PUC'] or ['Post-PUC'] or both
  reason: 'Eid'
});
ğŸ“… Take Attendance Screen Logic

Before allowing attendance, check for holiday:

js
Copy
Edit
const isHoliday = await db.get(`holiday_${selectedDate}`);
if (isHoliday?.courses.includes(currentCourseType)) {
  disableAttendanceInputs();
  showHolidayBanner(isHoliday.reason);
}
ğŸ§¾ Attendance Sheet Auto Fill Logic

On load, auto-mark H for all periods if it's a declared holiday:

js
Copy
Edit
const isHoliday = await db.get(`holiday_${selectedDate}`);
if (isHoliday?.courses.includes(courseType)) {
  studentAttendance[studentId][period] = 'H'; // loop all periods
}
ğŸ“¦ Excel Sheet Export

If a holiday is declared, output H in all subject columns:

js
Copy
Edit
if (holidayExistsOn(date)) {
  row[subjectName] = 'H';
}
ğŸ™ Namaz Tracking

On holiday, auto-skip namaz check or label:

js
Copy
Edit
if (holidayExistsOn(date) && courseType === 'PUC') {
  namazLog[studentId][date] = 'Holiday';
}
ğŸ¯ Course-specific Logic

Respect checkbox selection:

js
Copy
Edit
if (holiday.courses.includes('PUC') && courseType === 'PUC') {
  // apply logic
} else if (holiday.courses.includes('Post-PUC') && courseType === 'Post-PUC') {
  // apply logic
}
ğŸ‰ UI Holiday Banner

js
Copy
Edit
if (isHoliday) {
  showBanner(`Holiday: ${isHoliday.reason}`);
}
ğŸ§ª Test Case:

Mark 21st July 2025 as Academic Holiday for PUC.

Go to Attendance Sheet â†’ Should auto-fill H in all cells.

Try taking attendance â†’ All inputs disabled, Holiday banner appears.

Export Excel â†’ All entries on 21st July show H.

Namaz â†’ Entry skipped or marked Holiday.

Post-PUC sections â†’ unaffected.

âœ… DB Keys to Maintain:

holiday_YYYY-MM-DD â†’ contains date, reason, course list.

Avoid mixing PUC/Post-PUC in UI if only one is marked as holiday.