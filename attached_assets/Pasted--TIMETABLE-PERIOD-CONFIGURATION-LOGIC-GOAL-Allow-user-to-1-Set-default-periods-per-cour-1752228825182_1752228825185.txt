ðŸ“˜ TIMETABLE PERIOD CONFIGURATION LOGIC

ðŸŽ¯ GOAL:
Allow user to:
1. Set default periods per course level (PUC = 3, 3rdâ€“5th = 7, 6thâ€“7th = 8)
2. Customize number of periods per weekday (e.g., Monday = 4, Tuesday = 3)
3. Add/Delete periods per day directly from the Timetable > Edit view
4. Reflect changes instantly in Attendance, Timetable UI, and Database

ðŸ› ï¸ FRONTEND (React Native / Web):
- Inside Timetable > Edit Mode, show:
  â–¸ Editable dropdown/select next to each weekday: â€œNumber of Periodsâ€
  â–¸ Auto-generate blank slots for new periods
  â–¸ Provide â€œ+ Add Periodâ€ and ðŸ—‘ï¸ delete buttons inline per day
- Show period labels (P1, P2...) and time slots
- Sync new added period with global Period DB and bind to current section
- Reflect immediately in:
  â–¸ Attendance screen (auto-render new slots)
  â–¸ Subject assigning options

ðŸ§  BACKEND/FIREBASE STRUCTURE:

ðŸ“ timetable/
  â””â”€â”€ {courseId}_{year}_{stream}_{section}/
      â”œâ”€â”€ defaultPeriods: 3
      â”œâ”€â”€ customDayPeriods:
      â”‚     â”œâ”€â”€ Monday: 4
      â”‚     â”œâ”€â”€ Tuesday: 3
      â”‚     â”œâ”€â”€ Wednesday: 3
      â”‚     â””â”€â”€ ...
      â””â”€â”€ schedule/
            â”œâ”€â”€ Monday/
            â”‚    â”œâ”€â”€ P1: {subjectId, periodId}
            â”‚    â”œâ”€â”€ P2: {...}
            â”‚    â””â”€â”€ ...
            â””â”€â”€ ...

ðŸ“ periodDefinitions/
  â”œâ”€â”€ P1: {time: "09:00-10:00"}
  â”œâ”€â”€ P2: {time: "10:00-11:00"}
  â””â”€â”€ ...

ðŸ§© SYNC RULES:
- On Period Add/Delete in Timetable, auto-sync changes:
  â–¸ Update periodDefinitions if new period created
  â–¸ Update subject schedule for section
  â–¸ Trigger live re-render in Attendance Screen

ðŸ“Œ DEFAULT SETUP:
- On new class/section creation:
  â–¸ Auto-assign default periods based on year
  â–¸ Provide option â€œEdit Period Count per Dayâ€ inside Edit Timetable

âœ… EXAMPLE USE CASE:
- PU College > 1st Year > Commerce A:
  â–¸ Default: 3 Periods/day
  â–¸ Monday modified to 4 periods via +Add Period in Edit Timetable
  â–¸ Period 4 added only to Monday
  â–¸ Attendance view now shows 4 toggles for Monday, 3 for others

ðŸ”„ UPDATE LOGIC:
- Editing period count or time = PATCH to Firebase
- Add/Delete period per day = restructure timetable/{day}/ array
- All changes reflect live in Timetable and Attendance